---
import Icon from "./Icon.astro";
---

<script>
    const btnTop = document.getElementById("to-top");
    const icon = document.querySelector("button#to-top>svg");

    btnTop.addEventListener("mousedown", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
    });
    btnTop.addEventListener("mouseenter", () => {
        icon.classList.add("themed");
    });
    btnTop.addEventListener("mouseleave", () => {
        icon.classList.remove("themed");
    });
</script>

<button id="to-top">
    <Icon name="arrow-up" size={20} width={2} />
</button>

<style>
    #to-top {
        border: var(--navBorder);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        z-index: 1000;
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transform: translateY(100px) scale(0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--cardShadow);
        background-color: var(--navBackgroundColor);
        backdrop-filter: saturate(180%) blur(15px);
        -webkit-backdrop-filter: saturate(180%) blur(15px);
        -webkit-tap-highlight-color: transparent;
        transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    #to-top.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0px) scale(1);
    }

    #to-top:active {
        box-shadow: var(--activeInputShadow) !important;
    }

    #to-top > svg {
        stroke: var(--textColor);
    }

    #to-top > svg:hover {
        stroke: var(--accentColor);
    }

    @media only screen and (max-width: 720px) {
        #to-top {
            bottom: 1.5rem;
            right: 1rem;
        }
    }
</style>
